<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>Unity Study Notes 3 Importing MMD models into Unity | Vincent Feng&#39;s Homepage</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Vincent Feng's Homepage">
    <meta name="author" content="Vincent Feng">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Vincent Feng&#39;s Homepage" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">

    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">


    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->



  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">



  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->


        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">

				    <li><a href="/categories/Study-Notes/" class="animsition-link">Study Notes<small>(4)</small></a></li>

				    <li><a href="/categories/Web-Related/" class="animsition-link">Web Related<small>(1)</small></a></li>

				</ul>
        	</li>


            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">

                    <li><a href="http://www.mlab.phys.waseda.ac.jp/" class="animsition-link">Morishima Lab</a></li>

                </ul>
            </li>

        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">

            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>

    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/>
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Vincent Feng's Homepage</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>

                            <li><a href="https://github.com/HAL-lucination" title="Github" target="_blank"><i class="icon-github"></i></a></li>


                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>


                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>


                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>


                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>

                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->



<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2018-09-03T12:00:00.000Z" itemprop="datePublished">
          2018-09-03
      </time>


      <a href='/tags/Unity/'>Unity</a>,

      <a href='/tags/Tutorials/'>Tutorials</a>,

      <a href='/tags/Game-Making-Journey/'>Game Making Journey</a>



</span>
                <h1>Unity Study Notes 3 </br> Importing MMD models into Unity</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2></br><p>Most games, such as Action RPG, platform games, fighting games, include multiple characters or avatars in game for players to control. It is true that there are a lot of well made character models available in the Unity asset store, but free ones with high quality is rather rare.</p>
<p>To make our game vivid and fun, a good looking avatar can provide great advantages, since no one want to see boring soldiers running around for hours and hours, right? (Yeah, I am talking about you, free soldier asset featured in countless tutorials.)<br>However, designing a new <em>Humanoid</em> character from scratch using modeling softwares such as Maya or Blender for beginners like me is not actually realistic, since the process of systematically learning modeling, rigging and generate lightmaps etc. to create a appealing model is as difficult, if not harder, as making a good game.</p>
<p>Therefore, since I have messed around with MMD (<a href="https://en.wikipedia.org/wiki/MikuMikuDance" target="_blank" rel="noopener">MikuMikuDance</a>) for some time when I was still in high school, I am kind of familiar with it. Anyway, such prior knowledge is not a must for taking advantage of the well-community-supported, open-sourced library of humanoid models.</p></br>
<p><img src="https://renote.jp/uploads/image/file/36566/MMD.jpg" alt="MMDExample"></p>
</br><p>In this note, I will elaborate the steps form obtaining .pmx model files to make the models moving in Unity editor.</p>
</br><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><ol>
<li><strong>Grab a preferred .pmx model file.</strong> First of all, we need to prepare a free MMD model for us to use in later steps. There are different sources and it is impossible to cover them all in this post, so I will just give a simple example. Hundreds of models are available on <a href="https://www6.atwiki.jp/vpvpwiki/pages/141.html#id_eb1ae7d0" target="_blank" rel="noopener">this site</a>, along with different motion animations, so if you want to also apply these complex animations to your character, it is also easy to convert MMD-compatible animation format <em>.vmd</em> into Unity-compatible format <em>.fbx</em>.<br>Anyway, download a MMD model according to your preference and upzip it to get the <em>.pmx</em> file. This is what we need in this step.<br><img src="images/pmx.png" alt="pmx"></li>
</ol>
<ol start="2">
<li><strong>Get the MMD4Mecanim plugin.</strong> To convert .pmx models into .fbx file, the key is this MMD4Mecanim plugin. It is available at <a href="http://stereoarts.jp" target="_blank" rel="noopener">this link</a>. Scroll down to find the download link. Currently it’s version is beta_20180523, just find the “MMD4Mecanim_Beta_20180523.zip”, click the link and you should be good to go. After the download is finished, uncompress it to get this “<em>MMD4Mecanim.unitypackage</em>“ file, and import it into Unity editor.</li>
</ol>
<p><img src="images/mmd4.png" alt="mmd4dmecanim"></p>
<ol start="3">
<li><strong>Convert the .pmx model into Unity compatible .fbx file.</strong> Once the MMD4Mecanim package is imported into the Unity editor, create a new “<em>model</em>“ folder under <em>Assets</em> and copy the <em>.pmx</em> file obtained in the step 1 into the folder. (This is an optional step, just to make things look clean and tidy. You can place the model file anywhere you prefer.) Since we have already imported the MMD4Mecanim package, there should be another <em>your_model_name.MMD4Mecanim.asset</em> automatically created under the same directory. Click that asset and look at the inspector panel, there should be some checkboxes and an “<em>Agree</em>“ button. After carefully reading the notices from the model author (another <strong>Optional</strong> step), press the “<em>Agree</em>“ button, and click the “<em>Process</em>“ button on the next page. After some waiting, you should see the <em>.fbx</em> file automatically generated under the same directory.</li>
</ol>
<ul>
<li><p><strong>Attention</strong>: If you want to attach some motion animations along with the model without the harassment for manually preparing an animator controller by yourself afterwards, you need to drag the <em>.vmd</em> file (Also available on that website.) to the VMD slot before pressing the “<em>Process</em>“ button.</p>
</li>
<li><p><strong>Attention</strong>: If you want to attach some <strong>humanoid motion animations</strong> when messing around with the model, make sure the <em>Animation Type</em> under the <em>Rig</em> page of that model is changed to <em>Humanoid</em>. (It is set to <em>Generic</em> by default.) Or the humanoid motion clips you gathered from somewhere else won’t work on this model. I spent some time to figure this out when firstly using this plugin.</p>
</li>
</ul>
<p><img src="images/Humanoid.png" alt="Humanoid"></p>
</br><h3 id="GOODJOB"><a href="#GOODJOB" class="headerlink" title="GOODJOB!"></a>GOODJOB!</h3><p>Now we can use the imported character to do different things and create kaleidoscopic games! Next time I will write about how to incorporate our own character in the newly released powerful Unity 3D Game Kit.</p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">


    <a class="pull-right" href="/2018/09/01/UnityStudyNotes2/">
        Unity Study Notes 2 Making a basic AR labyrinth →
    </a>

</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>



<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Vincent Feng. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>

                    <li><a href="https://github.com/HAL-lucination" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>


                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>


                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>


                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>


                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>

                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




</body>
</html>
