<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!--<![endif]-->

<head>
  <title>Unity Study Notes 2 Making a basic AR labyrinth | Vincent Feng&#39;s Homepage</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Vincent Feng's Homepage">
    <meta name="author" content="Vincent Feng">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Vincent Feng&#39;s Homepage" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">

    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">


    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->



  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">



  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->


        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">

				    <li><a href="/categories/Study-Notes/Game-Making-Journey/" class="animsition-link">Game Making Journey<small>(0)</small></a></li>

				    <li><a href="/categories/Study-Notes/" class="animsition-link">Study Notes<small>(4)</small></a></li>

				    <li><a href="/categories/Web-Related/" class="animsition-link">Web Related<small>(1)</small></a></li>

				</ul>
        	</li>


            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">

                    <li><a href="http://www.mlab.phys.waseda.ac.jp/" class="animsition-link">Morishima Lab</a></li>

                </ul>
            </li>

        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">

            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>

    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/>
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Vincent Feng's Homepage</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>

                            <li><a href="https://github.com/HAL-lucination" title="Github" target="_blank"><i class="icon-github"></i></a></li>


                            <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>


                            <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li>


                            <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li>


                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>

                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->



<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2018-09-01T09:00:00.000Z" itemprop="datePublished">
          2018-09-01
      </time>


    |
    <a href='/tags/Unity-Tutorials-Game-Making-Journey/'>Unity, Tutorials, Game Making Journey</a>


  </span>
                  <h1>Unity Learning Notes 2 <br/> Making a basic AR labyrinth</h1>
              </div>
          </div>
          <div class="col-md-8 col-md-offset-2">
            <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>Labyrinth is a game consisting of a box with a maze on top with holes. The players need to guide the steel marble on the board by knobs on each side to tilt the playfield and get the marble to the goal of the labyrinth. Such a pretty straightforward idea can be obtained by observing the following image. <br/> <br><img src="https://i.ytimg.com/vi/mk2hHseviaI/maxresdefault.jpg" alt="Labyrinth"><br> <br/> As I went through the process of building a simple maze game last time, this time I will jot down the notes of turning it into an AR-compatible game, in which the user will tilt a cardboard (ideally) or a piece of paper with a marker on it. The result will be like this ↓:</p> <br/>
  <p><img src="images/2_result.jpg" alt="result"></p>
  <br/>
  <br/>
  <h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><ol>
  <li><p><strong>Design a level (map).</strong> To ensure the job can be done swiftly, it is always nice to have something in mind beforehand. Most good games have really well designed levels with proper challenges to make the game attractive. However, since it is not the main goal at this phase, I suggest just search online to find millions of good maze designs and grab a favorite one and then throw it into the Unity editor. For instance, I used this one in this example.</p><br/>
  <p><center><img src="https://cdn2.iconfinder.com/data/icons/unigrid-bluetone-maps-travel-vol-2/60/007_083_maze_labyrinth_map_2-512.png" alt="map"></center></p><br/>
  </li>
  <li><p><strong>Build the maze according to the map.</strong> It is not so hard and the steps were elaborated in the last note. Just use cubes and planes to get the job done. In addition, it is also necessary to drop a steel marble at the entrance. In fact, materials and rendering are not very important in this example, so casually find some wood textures, make a material with diffuse shader, and drag-n-drop it on each part of the maze, and also do the same thing to the marble. An alternative way is to utilize the Asset Store built in the Unity editor, quite a lot textures and materials are free to download and easy to import. My result is shown here.</p><br/>
  </li>
  </ol>
  <p><center><img src="images/2_level.png" alt="level"></center></p><br/>
  <ol start="3">
  <li><strong>Make it AR-compatible.</strong> Head to <em>File</em> - <em>Build Settings</em> - <em>Player Settings…</em> - <em>XR Settings</em> - <em>Vuforia Augmented Reality</em> and make sure the box is checked. When necessary assets are automatically imported, press <em>GameObject</em> - <em>Vuforia</em> - <em>ARCamera</em> to add the <em>ARCamera</em> object into the scene. Then, press <em>GameObject</em> - <em>Vuforia</em> - Image to add the <em>ImageTarget</em> object into the scene as well.
  </ol>
  <p>Before rushing forward, it is necessary to go to <a href="https://developer.vuforia.com/" target="_blank" rel="noopener">https://developer.vuforia.com/</a> to register an account, get a free development key under license manager tab and then head back to Unity editor’s <em>ARCamera</em> object’s inspector panel, press <em>Open Vuforia configuration</em> button and paste the license key to <em>App License Key</em>.</p>
  <p>Then, open the browser again and switch to “Target Manager” tab, “Add Database” with a memorable name and “Device” type. “Add Target” of image type and upload the maze map image we just used in the first step as the marker (just for convenience). When it’s done, press the “Download Database” button and get a .unitypackage file. Return to Unity editor and import the downloaded database. After the import is completed, go to the inspector panel of <em>ImageTarget</em> to select our image target. When it is done, the maze image should appear in the scene. Drag all game objects that belong to the maze and the marble to <em>ImageTarget</em> to make them become children of <em>ImageTarget</em>. This step is important to make apps AR-campatible.</p>
  <ul>
  <li><strong>Attention</strong>: Don’t forget to check the <em>load database/Activate</em> boxes in <em>VuforiaConfiguation</em>. (By pressing <em>Open Vuforia configuration</em> button on the <em>ARCamera</em> object.)</li>
  </ul>
  <p><center><img src="images/2_activate.png" alt="activate"></center></p>
  <p>Connect a webcam or use built-in cam on the computer and press “play” to see if the marker is working properly. The maze should appear when the camera detects the marker, if not, double check if the database is activated and try moving the camera around.</p></li></br>
  <ol start="4">
  <li><strong>Make it playable.</strong> If the AR function is working successfully, the only thing left is to make the game playable by adding the necessary physics to the objects. We can achieve this in a easy way. Attach <em>Rigidbody</em> to all static elements (walls, floor, etc.) in the scene and make sure that all objects have <em>collider</em> with them. Uncheck <em>Use Gravity</em> to make sure the labyrinth will not fall out of the view. Also, <em>freeze all positions and rotations</em> of them since we do not want the marble to mess up the whole environment.<br>Since we want the marble to freely move around when we tilt the board, we add <em>Collider</em> and <em>Rigidbody</em> to it as well, however, this time we <em>Use Gravity</em> and do not add any constraint.</li>
  </ol>
  </br>
  <h3 id="DONE"><a href="#DONE" class="headerlink" title="DONE!"></a>DONE!</h3><p>An AR labyrinth game is made merely with in-built physics engine of Unity without any coding.</p>

              <div class="clearfix"></div>
              <hr class="nogutter">
          </div>
          <nav class="m-pagination col-md-8 col-md-offset-2 col-sm-24" role="pagination">

    <a class="pull-left" href="/2018/09/03/UnityStudyNotes3/" style="float: left;">
        ← Unity Study Notes 3 Importing MMD models into Unity
    </a>


    <a class="pull-right" href="/2018/08/30/UnityStudyNotes1/">
        Unity Study Notes 1 Making a Simplest Maze →
    </a>

</nav>

        <div class="col-md-8 col-md-offset-2 col-sm-24"><script type="text/javascript">
  /**
   * 搜狐畅言
   */

  /*
  document.write('<div id="SOHUCS" sid="' + window.location.pathname.slice(1) + '" ></div>');

  window.onload = function () {
    (function () {
      var appid = 'cytXXXX';
      var conf = 'prod_xxxxxxxxxxxxxxxxx';
      var width = window.innerWidth || document.documentElement.clientWidth;
      var loadJs = function (d, a, id) {
        var c = document.getElementsByTagName("head")[0] || document.head || document.documentElement;
        var b = document.createElement("script");
        b.setAttribute("type", "text/javascript");
        b.setAttribute("charset", "UTF-8");
        b.setAttribute("src", d);
        if (id) {
          b.setAttribute("id", id);
        }
        if (typeof a === "function") {
          if (window.attachEvent) {
            b.onreadystatechange = function () {
              var e = b.readyState;
              if (e === "loaded" || e === "complete") {
                b.onreadystatechange = null;
                a()
              }
            }
          } else {
            b.onload = a
          }
        }
        c.appendChild(b)
      };

      loadJs("https://changyan.sohu.com/upload/changyan.js", function () {
        window.changyan.api.config({
          appid: appid,
          conf: conf
        })
      });
    })();
  }
  */

</script>
</div>
    </div>
</section>



<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Vincent Feng. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>

                    <li><a href="https://github.com/HAL-lucination" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>


                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>


                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>


                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>


                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>

                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




</body>
</html>
